var TF_Phone_Control=function(){function t(t){this.elem=t=void 0===t?"":t,this.initialSelectHTML=this.elem.innerHTML,this.choices=null,this.init(),this.initEvents()}var e=t.prototype;return e.init=function(){var e=this;this.choices=new Choices(this.elem,{allowHTML:!0,classNames:{containerOuter:"choices tf-phone-control--flag"},fuseOptions:{threshold:0},shouldSort:!1,searchPlaceholderValue:"Search",itemSelectText:"",searchFields:["label","value","customProperties.label"],callbackOnCreateTemplates:function(n){var i=this.config.itemSelectText,t=e.elem.closest(".tf-phone-control"),o=t.dataset.flagsBaseUrl,t=t.querySelector(".tf-phone-control--skeleton");return t&&t.remove(),{item:function(t,e){t=t.classNames;return n('\t\t\t\t\t\t\t<div\t\t\t\t\t\t\t\tclass="'+String(t.item)+" "+String(e.highlighted?t.highlightedState:t.itemSelectable)+'"\t\t\t\t\t\t\t\tdata-item\t\t\t\t\t\t\t\tdata-id="'+String(e.id)+'"\t\t\t\t\t\t\t\tdata-value="'+String(e.value)+'"\t\t\t\t\t\t\t\t'+String(e.active?'aria-selected="true"':"")+"\t\t\t\t\t\t\t\t"+String(e.disabled?'aria-disabled="true"':"")+'\t\t\t\t\t\t\t\t>\t\t\t\t\t\t\t\t\t<img width="27" height="13.5" src="'+o+"/"+e.customProperties.key.toLowerCase()+'.png"></img> <svg class="tf-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" width="19"><path fill="currentColor" d="M480-333 240-573l51-51 189 189 189-189 51 51-240 240Z"/></svg><span class="tf-flag-calling-code">+'+e.customProperties.calling_code+"</span>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t")},choice:function(t,e){t=t.classNames;return n('\t\t\t\t\t\t\t<div\t\t\t\t\t\t\t\tclass="'+String(t.item)+" "+String(t.itemChoice)+" "+String(e.disabled?t.itemDisabled:t.itemSelectable)+" "+String(e.selected?"tf-selectjs-selected-item":"")+'"\t\t\t\t\t\t\t\tdata-select-text="'+String(i)+'"\t\t\t\t\t\t\t\tdata-choice \t\t\t\t\t\t\t\t'+String(e.disabled?'data-choice-disabled aria-disabled="true"':"data-choice-selectable")+'\t\t\t\t\t\t\t\tdata-id="'+String(e.id)+'"\t\t\t\t\t\t\t\tdata-value="'+String(e.value)+'"\t\t\t\t\t\t\t\t'+String(0<e.groupId?'role="treeitem"':'role="option"')+'\t\t\t\t\t\t\t\t>\t\t\t\t\t\t\t\t\t<img width="27" height="13.5" loading="lazy" src="'+o+"/"+e.customProperties.key.toLowerCase()+'.png"></img> <span class="tf-phonecontrol-label" title="'+e.customProperties.label+'">'+e.customProperties.label+'</span><span class="tf-phonecontrol-code">+'+e.customProperties.calling_code+"</span>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t")}}}}),this.elem.phonecontrol=this},e.initEvents=function(){this.choices.passedElement.element.addEventListener("choice",function(e){setTimeout(function(){var t=e.target.closest(".tf-phone-control").querySelector(".tf-phone-control--number");t.focus(),t.dispatchEvent(new CustomEvent("change",{bubbles:!0}))},1)}.bind(this)),this.choices.passedElement.element.addEventListener("showDropdown",function(){var t=this.value,t=this.parentElement.parentElement.querySelector('.choices__list--dropdown [data-value="'+t+'"]');t&&(t.classList.add("tf-selectjs-selected-item"),t.parentElement.scrollTop=t.offsetTop-t.parentElement.offsetTop)})},e.reset=function(){this.choices.destroy(),this.elem.innerHTML=this.initialSelectHTML,new t(this.elem)},t}(),TF_Phone_Controls=function(){function t(){this.init()}return t.prototype.init=function(){var t,e;window.IntersectionObserver&&0!==(t=document.querySelectorAll(".tf-phone-control--flag--selector:not(.done)")).length&&(e=new IntersectionObserver(function(t,e){t.forEach(function(t){t.isIntersecting&&(t.target.classList.add("done"),new TF_Phone_Control(t.target),e.unobserve(t.target))})},{rootMargin:"0px 0px 0px 0px"}),t.forEach(function(t){e.observe(t)}))},t}();"loading"!=document.readyState?new TF_Phone_Controls:document.addEventListener("DOMContentLoaded",function(){new TF_Phone_Controls});

